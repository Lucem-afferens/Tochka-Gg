/**
 * Reset & Base Styles
 * 
 * Базовые стили и сброс браузерных стилей
 * Текст может переноситься, но слова не разбиваются
 */

// Переменные импортируются в главном файле style.scss

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

// Кастомный курсор (если задан через Options Page)
// Стили применяются через wp_head, здесь только базовые настройки
// Если кастомный курсор не задан, используется дефолтный браузерный

html {
  font-size: 16px;
  scroll-behavior: smooth;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  height: 100%; // Фиксируем высоту для предотвращения белой полосы
  height: 100dvh; // Используем dvh для Safari на iPhone
  background: $color-bg-primary; // Фон для html, чтобы не было белого
  // Поддержка safe-area для iPhone с выемкой
  padding-bottom: env(safe-area-inset-bottom);
}

body {
  font-family: $font-body;
  font-size: $font-size-base;
  line-height: $line-height-normal;
  color: $color-text-primary;
  // Основной статичный фон
  background: linear-gradient(135deg, $color-bg-primary 0%, #140F1D 25%, #150E1B 50%, #140F1D 75%, $color-bg-primary 100%);
  background-attachment: fixed;
  background-size: cover; // Улучшаем покрытие фона
  // Используем dvh для предотвращения скачков при скрытии адресной строки на мобильных
  min-height: 100vh; // Fallback для старых браузеров
  min-height: 100dvh; // Dynamic viewport height
  min-height: 100%; // Дополнительный fallback
  height: auto; // Автоматическая высота, но минимум 100dvh
  overflow-x: hidden;
  overflow-y: auto; // Разрешаем вертикальный скролл
  position: relative;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  // Поддержка safe-area для iPhone с выемкой
  padding-bottom: env(safe-area-inset-bottom);
  
  @include max-width(lg) {
    // На мобильных отключаем fixed background для лучшей производительности
    background-attachment: scroll;
  }
  // Слова не разбиваются, но текст может переноситься
  word-break: normal;
  overflow-wrap: normal;
  hyphens: none;
  
  // Анимированный кибер неоновый градиентный слой (темная кибер-атмосфера: темно-синий/черный + электрический синий/голубой + темно-серый + яркий розовый/фиолетовый/бирюзовый + металлик)
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    pointer-events: none;
    // Оптимизация: предотвращаем белые полосы при скролле
    background-color: $color-bg-primary; // Базовый цвет фона
    background: 
      // Темно-синий/Черный - базовый слой (центр и углы)
      radial-gradient(circle at 50% 50%, rgba(13, 15, 20, 0.4) 0%, transparent 70%),
      radial-gradient(circle at 0% 0%, rgba(8, 10, 15, 0.3) 0%, transparent 60%),
      radial-gradient(circle at 100% 100%, rgba(8, 10, 15, 0.3) 0%, transparent 60%),
      
      // Электрический Синий/Голубой - верхняя часть (яркий неон)
      radial-gradient(circle at 20% 15%, rgba(0, 191, 255, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 80% 25%, rgba(64, 224, 208, 0.12) 0%, transparent 55%),
      
      // Темно-серый - переходные зоны
      radial-gradient(circle at 30% 60%, rgba(40, 44, 52, 0.18) 0%, transparent 65%),
      radial-gradient(circle at 70% 70%, rgba(35, 39, 47, 0.15) 0%, transparent 60%),
      
      // Яркий Розовый/Фиолетовый - центр и правая часть (неоновые акценты)
      radial-gradient(circle at 60% 45%, rgba(192, 38, 211, 0.14) 0%, transparent 55%),
      radial-gradient(circle at 85% 55%, rgba(236, 72, 153, 0.12) 0%, transparent 50%),
      
      // Бирюзовый - левая часть (неоновый акцент)
      radial-gradient(circle at 15% 75%, rgba(20, 190, 220, 0.13) 0%, transparent 50%),
      
      // Металлик/Хром - блики (тонкие акценты)
      radial-gradient(circle at 45% 30%, rgba(200, 200, 220, 0.08) 0%, transparent 40%),
      radial-gradient(circle at 55% 80%, rgba(180, 190, 210, 0.06) 0%, transparent 35%);
    background-attachment: fixed;
    background-size: 400% 400%;
    animation: cyber-gradient-smooth 50s cubic-bezier(0.4, 0, 0.6, 1) infinite; // Увеличено для снижения частоты обновлений
    opacity: 1;
    // Оптимизация производительности: GPU-ускорение для анимации
    will-change: background-position;
    transform: translateZ(0); // Принудительное GPU-ускорение
  }
  
  // Эффект тумана/дыма (еле заметный, синхронизирован с переливанием цветов)
  // Оптимизировано: уменьшен blur для лучшей производительности
  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    pointer-events: none;
    // Оптимизация: предотвращаем белые полосы при скролле
    background-color: transparent; // Прозрачный базовый цвет
    background: 
      // Размытые облака тумана с цветами, соответствующими основному градиенту
      radial-gradient(ellipse 800px 600px at 20% 20%, rgba(0, 191, 255, 0.03) 0%, transparent 50%),
      radial-gradient(ellipse 700px 500px at 80% 30%, rgba(64, 224, 208, 0.025) 0%, transparent 45%),
      radial-gradient(ellipse 600px 700px at 30% 65%, rgba(40, 44, 52, 0.04) 0%, transparent 55%),
      radial-gradient(ellipse 750px 600px at 70% 75%, rgba(35, 39, 47, 0.035) 0%, transparent 50%),
      radial-gradient(ellipse 650px 550px at 60% 50%, rgba(192, 38, 211, 0.03) 0%, transparent 48%),
      radial-gradient(ellipse 700px 650px at 85% 60%, rgba(236, 72, 153, 0.025) 0%, transparent 45%),
      radial-gradient(ellipse 600px 500px at 15% 80%, rgba(20, 190, 220, 0.03) 0%, transparent 42%),
      radial-gradient(ellipse 550px 600px at 50% 40%, rgba(200, 200, 220, 0.02) 0%, transparent 38%),
      radial-gradient(ellipse 650px 550px at 55% 85%, rgba(180, 190, 210, 0.02) 0%, transparent 35%);
    background-attachment: fixed;
    background-size: 400% 400%;
    // Оптимизация: уменьшен blur до 25px для лучшей производительности
    filter: blur(25px);
    animation: cyber-gradient-smooth 50s cubic-bezier(0.4, 0, 0.6, 1) infinite; // Увеличено для снижения частоты обновлений
    opacity: 0.6;
    mix-blend-mode: screen;
    // Оптимизация производительности: GPU-ускорение
    will-change: background-position, filter;
    transform: translateZ(0); // Принудительное GPU-ускорение
  }
  
  // Отключение анимаций для пользователей с prefers-reduced-motion
  @media (prefers-reduced-motion: reduce) {
    &::before,
    &::after {
      animation: none;
      will-change: auto;
    }
  }
}

// ============================================
// TYPOGRAPHY - СЛОВА НЕ РАЗБИВАЮТСЯ
// ============================================

h1, h2, h3, h4, h5, h6 {
  font-family: $font-heading;
  font-weight: $font-weight-heading-bold;
  line-height: $line-height-tight;
  color: $color-text-primary;
  margin-bottom: $spacing-md;
  // Слова не разбиваются
  word-break: normal;
  overflow-wrap: normal;
  hyphens: none;
  // Единое неоновое свечение для всех заголовков
  @include heading-neon-glow;
}

h1 {
  font-size: $font-size-h1;
}

h2 {
  font-size: $font-size-h2;
}

h3 {
  font-size: $font-size-h3;
}

h4 {
  font-size: $font-size-h4;
}

h5 {
  font-size: $font-size-h5;
}

h6 {
  font-size: $font-size-h6;
}

p {
  margin-bottom: $spacing-md;
  // Слова не разбиваются, но текст может переноситься
  word-break: normal;
  overflow-wrap: normal;
  hyphens: none;
}

a {
  color: $color-primary;
  text-decoration: none;
  transition: color $duration-normal $ease-out-cubic;
  word-break: normal;
  overflow-wrap: normal;
  
  &:hover {
    color: $color-primary-bright;
  }
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

// ============================================
// LISTS
// ============================================

ul, ol {
  list-style: none;
}

// ============================================
// BUTTONS
// ============================================

button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  background: none;
  word-break: normal;
  overflow-wrap: normal;
}

// ============================================
// INPUTS
// ============================================

input, textarea, select {
  font-family: inherit;
  font-size: inherit;
  word-break: normal;
  overflow-wrap: normal;
}

// ============================================
// SELECTION
// ============================================

::selection {
  background-color: $color-primary;
  color: $color-text-primary;
}

::-moz-selection {
  background-color: $color-primary;
  color: $color-text-primary;
}

// ============================================
// АНИМАЦИЯ КИБЕР ГРАДИЕНТА
// ============================================

@keyframes cyber-gradient-smooth {
  0% {
    background-position: 0% 0%;
  }
  33.33% {
    background-position: 100% 33%;
  }
  66.66% {
    background-position: 33% 100%;
  }
  100% {
    background-position: 0% 0%;
  }
}
