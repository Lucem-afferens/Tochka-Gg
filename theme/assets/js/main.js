/* empty css     */function e(e,t,r){const o=e.querySelector(".tgg-form-message");o&&o.remove();const n=document.createElement("div");n.className=`tgg-form-message tgg-form-message--${r}`,n.textContent=t,e.insertBefore(n,e.firstChild),setTimeout(()=>{n.remove()},5e3)}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelector(".tgg-header__burger"),t=document.querySelector(".tgg-header__nav"),r=document.querySelector(".tgg-header");if(!e||!t)return;e.addEventListener("click",()=>{const r="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!r),t.classList.toggle("active"),e.classList.toggle("active"),document.body.classList.toggle("menu-open")}),window.addEventListener("scroll",()=>{window.pageYOffset>100?r?.classList.add("scrolled"):r?.classList.remove("scrolled")});const o=t.querySelectorAll("a");o.forEach(r=>{r.addEventListener("click",()=>{t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open")})});const n=document.querySelectorAll("section[id]"),s=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");o.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${t}`&&e.classList.add("active")})}})},{rootMargin:"-20% 0px -70% 0px",threshold:0});n.forEach(e=>s.observe(e))}(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const r=e.getAttribute("href");if("#"===r||!r)return;const o=document.querySelector(r);if(o){t.preventDefault();const e=document.querySelector(".tgg-header"),n=e?e.offsetHeight:80,s=o.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:s,behavior:"smooth"}),history.pushState&&history.pushState(null,null,r)}})}),function(){const e=document.querySelectorAll(".tgg-advantages__item, .tgg-services__item, .tgg-archive__item, .tgg-card");if(0===e.length)return;const t=new IntersectionObserver(e=>{e.forEach((e,r)=>{e.isIntersecting&&setTimeout(()=>{e.target.classList.add("tgg-animate-fade-in-up"),t.unobserve(e.target)},100*r)})},{root:null,rootMargin:"0px 0px -100px 0px",threshold:.1});e.forEach(e=>{t.observe(e)})}(),document.querySelectorAll("form[data-tgg-form]").forEach(t=>{t.addEventListener("submit",async r=>{r.preventDefault();const o=new FormData(t),n=t.querySelector('button[type="submit"]'),s=n?.textContent;if(function(e){const t=e.querySelectorAll("[required]");let r=!0;return t.forEach(e=>{e.value.trim()||(r=!1,e.classList.add("error"),e.addEventListener("input",()=>{e.classList.remove("error")},{once:!0}))}),e.querySelectorAll('input[type="email"]').forEach(e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.value&&!t.test(e.value)&&(r=!1,e.classList.add("error"))}),r}(t)){n&&(n.disabled=!0,n.textContent="Отправка...");try{if(!(await fetch(t.action||window.location.href,{method:"POST",body:o})).ok)throw new Error("Ошибка отправки");e(t,"Спасибо! Ваше сообщение отправлено.","success"),t.reset()}catch(a){e(t,"Ошибка отправки. Попробуйте позже.","error")}finally{n&&(n.disabled=!1,n.textContent=s)}}})}),document.querySelector(".tgg-hero")&&function(){const e=document.querySelector(".tgg-hero");if(!e)return;const t=e.querySelector(".tgg-hero__bg");t&&window.addEventListener("scroll",()=>{const e=.5*window.pageYOffset;t.style.transform=`translateY(${e}px)`})}(),document.getElementById("map")&&function(){const e=document.getElementById("map");if(!e)return;const t=parseFloat(e.dataset.lat)||57.424953,r=parseFloat(e.dataset.lng)||56.963968;if("undefined"==typeof ymaps)return console.warn("Яндекс.Карты API не загружен. Добавьте скрипт в functions.php"),void(e.innerHTML=`\n      <div class="tgg-contacts__map-placeholder">\n        <p>Карта загружается...</p>\n        <p class="tgg-contacts__map-link">\n          <a href="https://yandex.ru/maps/?pt=${r},${t}&z=17&l=map" \n             target="_blank" \n             rel="noopener noreferrer">\n            Открыть карту в новом окне\n          </a>\n        </p>\n      </div>\n    `);ymaps.ready(()=>{const o=new ymaps.Map("map",{center:[t,r],zoom:17,controls:["zoomControl","fullscreenControl"]}),n=new ymaps.Placemark([t,r],{balloonContent:"Точка Gg<br>ул. Голованова, 43, Кунгур"},{preset:"islands#blueDotIcon"});o.geoObjects.add(n);const s=e.querySelector(".tgg-contacts__map-placeholder");s&&(s.style.display="none")})}(),function(){if("undefined"==typeof Swiper)return void console.warn("Swiper не подключен. Добавьте его в package.json если нужен.");[".tgg-slider-hero",".tgg-slider-gallery",".tgg-slider-tournaments"].forEach(e=>{const t=document.querySelector(e);t&&new Swiper(t,{slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}}})})}(),console.log("✅ Tochka Gg theme initialized")});
//# sourceMappingURL=main.js.map
