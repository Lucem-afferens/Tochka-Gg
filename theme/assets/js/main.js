/* empty css     */function e(e,t,n){const o=e.querySelector(".tgg-form-message");o&&o.remove();const r=document.createElement("div");r.className=`tgg-form-message tgg-form-message--${n}`,r.textContent=t,e.insertBefore(r,e.firstChild),setTimeout(()=>{r.remove()},5e3)}function t(){const e=document.querySelectorAll("[data-gallery]");0!==e.length&&e.forEach(e=>{const t=e.getAttribute("data-gallery"),n=e.querySelector(".tgg-equipment-full__gallery-track"),o=n.querySelectorAll(".tgg-equipment-full__gallery-slide"),r=document.querySelector(`[data-gallery-prev="${t}"]`),s=document.querySelector(`[data-gallery-next="${t}"]`),a=document.querySelector(`[data-gallery-dots="${t}"]`);if(!n||0===o.length)return;let i=0;const c=o.length;if(a&&c>1)for(let h=0;h<c;h++){const e=document.createElement("button");e.className="tgg-equipment-full__gallery-dot",0===h&&e.classList.add("active"),e.setAttribute("data-gallery-dot",h),e.setAttribute("aria-label",`Перейти к слайду ${h+1}`),a.appendChild(e)}const l=a?a.querySelectorAll(".tgg-equipment-full__gallery-dot"):[];function d(){const e=100*-i;n.style.transform=`translateX(${e}%)`,l.forEach((e,t)=>{t===i?e.classList.add("active"):e.classList.remove("active")}),r&&(r.disabled=!1),s&&(s.disabled=!1)}function u(){i=(i+1)%c,d()}function g(){i=(i-1+c)%c,d()}s&&s.addEventListener("click",u),r&&r.addEventListener("click",g),l.forEach((e,t)=>{e.addEventListener("click",()=>function(e){e>=0&&e<c&&(i=e,d())}(t))}),e.addEventListener("keydown",e=>{"ArrowLeft"===e.key?g():"ArrowRight"===e.key&&u()});let m=null;function f(){c<=1||(m=setInterval(()=>{u()},5e3))}e.addEventListener("mouseenter",function(){m&&(clearInterval(m),m=null)}),e.addEventListener("mouseleave",f),d(),f();let v=0,p=0;n.addEventListener("touchstart",e=>{v=e.changedTouches[0].screenX}),n.addEventListener("touchend",e=>{p=e.changedTouches[0].screenX,function(){const e=50,t=v-p;Math.abs(t)>e&&(t>0?u():g())}()})})}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelector(".tgg-header__burger"),t=document.querySelector(".tgg-header__nav"),n=document.querySelector(".tgg-header"),o=document.querySelector(".tgg-nav__list"),r=document.querySelector(".tgg-nav__active-line");if(!e||!t)return;e.addEventListener("click",n=>{n.stopPropagation();const o="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!o),t.classList.toggle("active"),e.classList.toggle("active"),document.body.classList.toggle("menu-open")}),document.addEventListener("click",n=>{window.innerWidth<=1023&&t.classList.contains("active")&&(t.contains(n.target)||e.contains(n.target)||(t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open")))}),document.addEventListener("keydown",n=>{"Escape"===n.key&&t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open"))});let s=!1;function a(){window.pageYOffset>50?n?.classList.add("scrolled"):n?.classList.remove("scrolled"),s=!1}window.addEventListener("scroll",()=>{s||(window.requestAnimationFrame(a),s=!0)},{passive:!0});const i=t.querySelectorAll(".tgg-nav__link, a");let c,l,d=!1;function u(e,t=!1){if(!r||window.innerWidth<=1023)return;const n=e.getBoundingClientRect(),s=o?.getBoundingClientRect();if(s&&n){const o=n.left-s.left,a=n.width;t&&r.classList.add("instant"),r.style.left=`${o}px`,r.style.width=`${a}px`,r.classList.add("visible");const i=e.getAttribute("href")||"",c=e.textContent.trim().toLowerCase();i.includes("оборудование")||i.includes("equipment")||c.includes("оборудование")?(r.style.background="linear-gradient(90deg, #22D3EE 0%, #3B82F6 100%)",r.style.boxShadow="0 0 12px rgba(34, 211, 238, 0.8)"):i.includes("цены")||i.includes("pricing")||c.includes("цены")?(r.style.background="linear-gradient(90deg, #C026D3 0%, #9333EA 100%)",r.style.boxShadow="0 0 12px rgba(192, 38, 211, 0.8)"):i.includes("контакты")||i.includes("contacts")||c.includes("контакты")?(r.style.background="linear-gradient(90deg, #FF6B35 0%, #F72C25 50%, #FFD93D 100%)",r.style.boxShadow="0 0 12px rgba(255, 107, 53, 0.8), 0 0 20px rgba(247, 44, 37, 0.6)"):i.includes("vr")||c.includes("vr")?(r.style.background="linear-gradient(90deg, #10B981 0%, #22D3EE 100%)",r.style.boxShadow="0 0 12px rgba(16, 185, 129, 0.8)"):i.includes("бар")||i.includes("bar")||c.includes("бар")?(r.style.background="linear-gradient(90deg, #FFD93D 0%, #FF8C42 100%)",r.style.boxShadow="0 0 12px rgba(255, 217, 61, 0.8), 0 0 20px rgba(255, 140, 66, 0.6)"):(r.style.background="linear-gradient(90deg, #3B82F6 0%, #1E90FF 100%)",r.style.boxShadow="0 0 12px rgba(59, 130, 246, 0.6)"),t&&setTimeout(()=>{r.classList.remove("instant")},100)}}function g(){const e=window.location.pathname,t=window.location.href;i.forEach(e=>{e.classList.remove("active")}),i.forEach(n=>{const o=n.getAttribute("href");if(!o)return;const s=new URL(o,window.location.origin);new URL(t);const a=s.pathname.replace(/\/$/,""),i=e.replace(/\/$/,"");if(!(""!==a&&"/"!==a||""!==i&&"/"!==i))return n.classList.add("active"),void(window.innerWidth>1023&&r&&u(n));if(""!==a&&"/"!==a&&i.includes(a))return n.classList.add("active"),void(window.innerWidth>1023&&r&&u(n));if(o.startsWith("#")){const e=o.substring(1),t=document.getElementById(e);if(t){const e=t.getBoundingClientRect();e.top<=200&&e.bottom>=100&&(n.classList.add("active"),window.innerWidth>1023&&r&&u(n))}}})}i.forEach(n=>{n.addEventListener("click",o=>{d=!0,window.innerWidth>1023&&r&&(i.forEach(e=>e.classList.remove("active")),n.classList.add("active"),u(n,!0)),n.style.transform="scale(0.95)",setTimeout(()=>{n.style.transform=""},150),window.innerWidth<=1023&&setTimeout(()=>{t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open")},300),setTimeout(()=>{d=!1},500)}),window.innerWidth>1023&&n.addEventListener("mouseenter",()=>{d||u(n)})}),o&&r&&window.innerWidth>1023&&(o.addEventListener("mouseenter",()=>{if(!d){const e=o.querySelector(".tgg-nav__link.active, a.active");e&&u(e)}}),o.addEventListener("mouseleave",()=>{if(!d){const e=o.querySelector(".tgg-nav__link.active, a.active");e&&u(e)}})),g(),window.addEventListener("popstate",g),window.addEventListener("scroll",()=>{d||(clearTimeout(c),c=setTimeout(()=>{Array.from(i).filter(e=>{const t=e.getAttribute("href");return t&&t.startsWith("#")}).length>0&&g()},100))},{passive:!0}),i.forEach(e=>{const t=e.getAttribute("href");t&&t.startsWith("#")&&e.addEventListener("click",o=>{const s=t.substring(1),a=document.getElementById(s);if(a){o.preventDefault(),window.innerWidth>1023&&r&&(i.forEach(e=>e.classList.remove("active")),e.classList.add("active"),u(e,!0),d=!0);const s=n?.offsetHeight||0,c=a.offsetTop-s-20;window.scrollTo({top:c,behavior:"smooth"}),history.pushState(null,"",t),setTimeout(()=>{d=!1},1e3)}})}),window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{if(window.innerWidth>1023&&(t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open")),window.innerWidth>1023&&r){const e=o?.querySelector(".tgg-nav__link.active, a.active");e&&u(e)}},250)})}(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href");if("#"===n||!n)return;const o=document.querySelector(n);if(o){t.preventDefault();const e=document.querySelector(".tgg-header"),r=e?e.offsetHeight:80,s=o.getBoundingClientRect().top+window.pageYOffset-r;window.scrollTo({top:s,behavior:"smooth"}),history.pushState&&history.pushState(null,null,n)}})}),function(){const e=document.querySelectorAll(".tgg-advantages__item, .tgg-services__item, .tgg-archive__item, .tgg-card");if(0===e.length)return;const t=new IntersectionObserver(e=>{e.forEach((e,n)=>{e.isIntersecting&&setTimeout(()=>{e.target.classList.add("tgg-animate-fade-in-up"),t.unobserve(e.target)},100*n)})},{root:null,rootMargin:"0px 0px -100px 0px",threshold:.1});e.forEach(e=>{t.observe(e)})}(),document.querySelectorAll("form[data-tgg-form]").forEach(t=>{t.addEventListener("submit",async n=>{n.preventDefault();const o=new FormData(t),r=t.querySelector('button[type="submit"]'),s=r?.textContent;if(function(e){const t=e.querySelectorAll("[required]");let n=!0;return t.forEach(e=>{e.value.trim()||(n=!1,e.classList.add("error"),e.addEventListener("input",()=>{e.classList.remove("error")},{once:!0}))}),e.querySelectorAll('input[type="email"]').forEach(e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.value&&!t.test(e.value)&&(n=!1,e.classList.add("error"))}),n}(t)){r&&(r.disabled=!0,r.textContent="Отправка...");try{if(!(await fetch(t.action||window.location.href,{method:"POST",body:o})).ok)throw new Error("Ошибка отправки");e(t,"Спасибо! Ваше сообщение отправлено.","success"),t.reset()}catch(a){e(t,"Ошибка отправки. Попробуйте позже.","error")}finally{r&&(r.disabled=!1,r.textContent=s)}}})}),document.querySelector(".tgg-hero")&&function(){const e=document.querySelector(".tgg-hero");if(!e)return;const t=e.querySelector(".tgg-hero__bg");t&&window.addEventListener("scroll",()=>{const e=.5*window.pageYOffset;t.style.transform=`translateY(${e}px)`})}(),document.getElementById("map")&&function(){const e=document.getElementById("map");if(!e)return;const t=parseFloat(e.dataset.lat)||57.424953,n=parseFloat(e.dataset.lng)||56.963968;if("undefined"==typeof ymaps)return console.warn("Яндекс.Карты API не загружен. Добавьте скрипт в functions.php"),void(e.innerHTML=`\n      <div class="tgg-contacts__map-placeholder">\n        <p>Карта загружается...</p>\n        <p class="tgg-contacts__map-link">\n          <a href="https://yandex.ru/maps/?pt=${n},${t}&z=17&l=map" \n             target="_blank" \n             rel="noopener noreferrer">\n            Открыть карту в новом окне\n          </a>\n        </p>\n      </div>\n    `);ymaps.ready(()=>{const o=new ymaps.Map("map",{center:[t,n],zoom:17,controls:["zoomControl","fullscreenControl"]}),r=new ymaps.Placemark([t,n],{balloonContent:"Точка Gg<br>ул. Голованова, 43, Кунгур"},{preset:"islands#blueDotIcon"});o.geoObjects.add(r);const s=e.querySelector(".tgg-contacts__map-placeholder");s&&(s.style.display="none")})}(),function(){if("undefined"==typeof Swiper)return void console.warn("Swiper не подключен. Добавьте его в package.json если нужен.");[".tgg-slider-hero",".tgg-slider-gallery",".tgg-slider-tournaments"].forEach(e=>{const t=document.querySelector(e);t&&new Swiper(t,{slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}}})})}(),document.querySelector(".tgg-equipment-full__gallery-slider")&&t(),console.log("✅ Tochka Gg theme initialized")});
//# sourceMappingURL=main.js.map
