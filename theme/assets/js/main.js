/* empty css     */function e(e,t,n){const o=e.querySelector(".tgg-form-message");o&&o.remove();const r=document.createElement("div");r.className=`tgg-form-message tgg-form-message--${n}`,r.textContent=t,e.insertBefore(r,e.firstChild),setTimeout(()=>{r.remove()},5e3)}function t(){const e=document.querySelectorAll("[data-gallery]");0!==e.length&&e.forEach(e=>{const t=e.getAttribute("data-gallery"),n=e.querySelector(".tgg-equipment-full__gallery-track"),o=n.querySelectorAll(".tgg-equipment-full__gallery-slide"),r=document.querySelector(`[data-gallery-prev="${t}"]`),i=document.querySelector(`[data-gallery-next="${t}"]`),a=document.querySelector(`[data-gallery-dots="${t}"]`);if(!n||0===o.length)return;let s=0;const l=o.length;if(a&&l>1)for(let y=0;y<l;y++){const e=document.createElement("button");e.className="tgg-equipment-full__gallery-dot",0===y&&e.classList.add("active"),e.setAttribute("data-gallery-dot",y),e.setAttribute("aria-label",`Перейти к слайду ${y+1}`),a.appendChild(e)}const c=a?a.querySelectorAll(".tgg-equipment-full__gallery-dot"):[];function d(){const e=100*-s;n.style.transform=`translateX(${e}%)`,c.forEach((e,t)=>{t===s?e.classList.add("active"):e.classList.remove("active")}),r&&(r.disabled=!1),i&&(i.disabled=!1)}function u(){s=(s+1)%l,d()}function m(){s=(s-1+l)%l,d()}i&&i.addEventListener("click",u),r&&r.addEventListener("click",m),c.forEach((e,t)=>{e.addEventListener("click",()=>function(e){e>=0&&e<l&&(s=e,d())}(t))}),e.addEventListener("keydown",e=>{"ArrowLeft"===e.key?m():"ArrowRight"===e.key&&u()});let g=null;function p(){l<=1||(g=setInterval(()=>{u()},5e3))}e.addEventListener("mouseenter",function(){g&&(clearInterval(g),g=null)}),e.addEventListener("mouseleave",p),d(),p();let f=0,v=0;n.addEventListener("touchstart",e=>{f=e.changedTouches[0].screenX}),n.addEventListener("touchend",e=>{v=e.changedTouches[0].screenX,function(){const e=50,t=f-v;Math.abs(t)>e&&(t>0?u():m())}()})})}function n(){const e=[document.getElementById("langame-booking-btn"),document.getElementById("langame-booking-btn-mobile")].filter(e=>null!==e);0!==e.length&&e.forEach(e=>{const t=e.dataset.langameDeepLink||"langame://booking",n=e.dataset.langameIos||"https://apps.apple.com/ru/app/langame",o=e.dataset.langameAndroid||"https://play.google.com/store/apps/details?id=ru.langame.app";e.addEventListener("click",e=>{e.preventDefault();const r=navigator.userAgent||navigator.vendor||window.opera,i=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,a=/android/i.test(r);i?function(e,t){let n=!1;const o=2500,r=()=>{n=!0,window.removeEventListener("blur",r),window.removeEventListener("visibilitychange",i)},i=()=>{document.hidden&&(n=!0,window.removeEventListener("blur",r),window.removeEventListener("visibilitychange",i))};window.addEventListener("blur",r),window.addEventListener("visibilitychange",i),window.location.href=e,setTimeout(()=>{window.removeEventListener("blur",r),window.removeEventListener("visibilitychange",i),n||document.hidden||(window.location.href=t)},o)}(t,n):a?function(e,t){let n=!1;const o=2e3,r=()=>{n=!0,window.removeEventListener("blur",r),window.removeEventListener("visibilitychange",i)},i=()=>{document.hidden&&(n=!0,window.removeEventListener("blur",r),window.removeEventListener("visibilitychange",i))};window.addEventListener("blur",r),window.addEventListener("visibilitychange",i),window.location.href=e,setTimeout(()=>{window.removeEventListener("blur",r),window.removeEventListener("visibilitychange",i),n||document.hidden||(window.location.href=t)},o)}(t,o):function(e,t){window.open(e,"_blank"),window.open(t,"_blank")}(n,o)})})}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelector(".tgg-header__burger"),t=document.querySelector(".tgg-header__nav"),n=document.querySelector(".tgg-header");if(document.querySelector(".tgg-nav__list"),!e||!t)return void console.warn("Navigation elements not found");let o=0;function r(){t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),window.innerWidth<=1023&&(document.body.classList.remove("menu-open"),document.documentElement.classList.remove("menu-open"),document.body.style.top="",window.scrollTo(0,o))}e.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const r=!("true"===e.getAttribute("aria-expanded"));if(e.setAttribute("aria-expanded",r),t.classList.toggle("active"),e.classList.toggle("active"),window.innerWidth<=1023?r?(o=window.pageYOffset||document.documentElement.scrollTop,document.body.classList.add("menu-open"),document.documentElement.classList.add("menu-open"),document.body.style.top=`-${o}px`):(document.body.classList.remove("menu-open"),document.documentElement.classList.remove("menu-open"),document.body.style.top="",window.scrollTo(0,o)):(document.body.classList.remove("menu-open"),document.documentElement.classList.remove("menu-open")),e.setAttribute("aria-label",r?"Закрыть меню":"Открыть меню"),r){const e=t.querySelectorAll(".tgg-nav__list li");console.log("Menu opened, found items:",e.length)}}),document.addEventListener("click",n=>{window.innerWidth<=1023&&t.classList.contains("active")&&(t.contains(n.target)||e.contains(n.target)||r())}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&r()}),document.addEventListener("wheel",e=>{if(window.innerWidth<=1023&&t.classList.contains("active"))return e.preventDefault(),!1},{passive:!1}),document.addEventListener("touchmove",e=>{if(window.innerWidth<=1023&&t.classList.contains("active")&&!t.contains(e.target))return e.preventDefault(),!1},{passive:!1});let i=!1;function a(){window.pageYOffset>50?n?.classList.add("scrolled"):n?.classList.remove("scrolled"),i=!1}window.addEventListener("scroll",()=>{i||(window.requestAnimationFrame(a),i=!0)},{passive:!0});const s=t.querySelectorAll(".tgg-nav__link, a");function l(){const e=window.location.pathname,t=window.location.href;s.forEach(e=>{e.classList.remove("active")}),s.forEach(n=>{const o=n.getAttribute("href");if(!o)return;const r=new URL(o,window.location.origin);new URL(t);const i=r.pathname.replace(/\/$/,""),a=e.replace(/\/$/,"");if(""!==i&&"/"!==i||""!==a&&"/"!==a){if(""!==i&&"/"!==i&&a.includes(i))n.classList.add("active");else if(o.startsWith("#")){const e=o.substring(1),t=document.getElementById(e);if(t){const e=t.getBoundingClientRect();e.top<=200&&e.bottom>=100&&n.classList.add("active")}}}else n.classList.add("active")})}let c,d;s.forEach(e=>{e.addEventListener("click",t=>{e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform=""},150),window.innerWidth<=1023&&setTimeout(()=>{r()},300)})}),l(),window.addEventListener("popstate",l),window.addEventListener("scroll",()=>{clearTimeout(c),c=setTimeout(()=>{Array.from(s).filter(e=>{const t=e.getAttribute("href");return t&&t.startsWith("#")}).length>0&&l()},100)},{passive:!0}),s.forEach(e=>{const t=e.getAttribute("href");t&&t.startsWith("#")&&e.addEventListener("click",o=>{const r=t.substring(1),i=document.getElementById(r);if(i){o.preventDefault(),s.forEach(e=>e.classList.remove("active")),e.classList.add("active");const r=n?.offsetHeight||0,a=i.offsetTop-r-20;window.scrollTo({top:a,behavior:"smooth"}),history.pushState(null,"",t)}})}),window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{window.innerWidth>1023&&r()},250)})}(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href");if("#"===n||!n)return;const o=document.querySelector(n);if(o){t.preventDefault();const e=document.querySelector(".tgg-header"),r=e?e.offsetHeight:80,i=o.getBoundingClientRect().top+window.pageYOffset-r;window.scrollTo({top:i,behavior:"smooth"}),history.pushState&&history.pushState(null,null,n)}})}),function(){const e=document.querySelectorAll(".tgg-advantages__item, .tgg-services__item, .tgg-archive__item, .tgg-card");if(0===e.length)return;const t=new IntersectionObserver(e=>{e.forEach((e,n)=>{e.isIntersecting&&setTimeout(()=>{e.target.classList.add("tgg-animate-fade-in-up"),t.unobserve(e.target)},100*n)})},{root:null,rootMargin:"0px 0px -100px 0px",threshold:.1});e.forEach(e=>{t.observe(e)})}(),document.querySelectorAll("form[data-tgg-form]").forEach(t=>{t.addEventListener("submit",async n=>{n.preventDefault();const o=new FormData(t),r=t.querySelector('button[type="submit"]'),i=r?.textContent;if(function(e){const t=e.querySelectorAll("[required]");let n=!0;return t.forEach(e=>{e.value.trim()||(n=!1,e.classList.add("error"),e.addEventListener("input",()=>{e.classList.remove("error")},{once:!0}))}),e.querySelectorAll('input[type="email"]').forEach(e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.value&&!t.test(e.value)&&(n=!1,e.classList.add("error"))}),n}(t)){r&&(r.disabled=!0,r.textContent="Отправка...");try{if(!(await fetch(t.action||window.location.href,{method:"POST",body:o})).ok)throw new Error("Ошибка отправки");e(t,"Спасибо! Ваше сообщение отправлено.","success"),t.reset()}catch(a){e(t,"Ошибка отправки. Попробуйте позже.","error")}finally{r&&(r.disabled=!1,r.textContent=i)}}})}),document.querySelector(".tgg-hero")&&function(){const e=document.querySelector(".tgg-hero");if(!e)return;const t=e.querySelector(".tgg-hero__bg");t&&window.addEventListener("scroll",()=>{const e=.5*window.pageYOffset;t.style.transform=`translateY(${e}px)`})}(),document.getElementById("map")&&function(){const e=document.getElementById("map");if(!e)return;const t=parseFloat(e.dataset.lat)||57.424953,n=parseFloat(e.dataset.lng)||56.963968,o=e.dataset.logo||"";if("undefined"==typeof ymaps)return console.warn("Яндекс.Карты API не загружен. Добавьте скрипт в functions.php"),void(e.innerHTML=`\n      <div class="tgg-contacts__map-placeholder">\n        <p>Карта загружается...</p>\n        <p class="tgg-contacts__map-link">\n          <a href="https://yandex.ru/maps/?pt=${n},${t}&z=17&l=map" \n             target="_blank" \n             rel="noopener noreferrer">\n            Открыть карту в новом окне\n          </a>\n        </p>\n      </div>\n    `);ymaps.ready(()=>{const r=new ymaps.Map("map",{center:[t,n],zoom:17,controls:["zoomControl","fullscreenControl"],type:"yandex#map"},{customStyles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#1a1d29"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#8b9dc3"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#1a1d29"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#252830"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#1e2128"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#252830"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#6b7a99"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#2a2d3a"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#353849"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1117"}]}]}),i=o?`<div class="tgg-map-marker tgg-map-marker--with-logo">\n          <div class="tgg-map-marker__pulse-ring"></div>\n          <div class="tgg-map-marker__icon-wrapper">\n            <div class="tgg-map-marker__logo-backdrop">\n              <img src="${o}" alt="Точка Gg" class="tgg-map-marker__logo">\n            </div>\n            <div class="tgg-map-marker__pin-tail"></div>\n          </div>\n        </div>`:'<div class="tgg-map-marker">\n          <div class="tgg-map-marker__pulse-ring"></div>\n          <div class="tgg-map-marker__icon-wrapper">\n            <svg class="tgg-map-marker__icon" width="48" height="64" viewBox="0 0 48 64">\n              <defs>\n                <linearGradient id="pinGradient" x1="0%" y1="0%" x2="0%" y2="100%">\n                  <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />\n                  <stop offset="50%" style="stop-color:#2563eb;stop-opacity:1" />\n                  <stop offset="100%" style="stop-color:#1e40af;stop-opacity:1" />\n                </linearGradient>\n                <filter id="pinGlow">\n                  <feGaussianBlur stdDeviation="4" result="coloredBlur"/>\n                  <feMerge>\n                    <feMergeNode in="coloredBlur"/>\n                    <feMergeNode in="SourceGraphic"/>\n                  </feMerge>\n                </filter>\n              </defs>\n              <ellipse cx="24" cy="58" rx="12" ry="4" fill="rgba(0, 0, 0, 0.3)" opacity="0.5"/>\n              <path d="M24 4 C29 4 33 6 36 9 C39 12 44 18 44 26 C44 34 36 50 24 60 C12 50 4 34 4 26 C4 18 9 12 12 9 C15 6 19 4 24 4 Z" \n                    fill="url(#pinGradient)" \n                    stroke="#ffffff" \n                    stroke-width="2" \n                    filter="url(#pinGlow)"/>\n              <circle cx="24" cy="20" r="8" fill="rgba(255, 255, 255, 0.9)"/>\n              <circle cx="24" cy="20" r="5" fill="#3b82f6"/>\n              <circle cx="24" cy="20" r="2.5" fill="#ffffff"/>\n            </svg>\n          </div>\n        </div>',a=ymaps.templateLayoutFactory.createClass(i,{build:function(){a.superclass.build.call(this),this._element=this.getParentElement().getElementsByClassName("tgg-map-marker")[0]}}),s=new ymaps.Placemark([t,n],{balloonContent:'<div class="tgg-map-balloon"><div class="tgg-map-balloon__header"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" style="margin-right: 8px;"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="#3b82f6"/></svg><strong>Точка Gg</strong></div><div class="tgg-map-balloon__content">ул. Голованова, 43, Кунгур</div></div>'},{iconLayout:a,iconShape:{type:"Circle",coordinates:[0,0],radius:o?40:24},iconOffset:o?[-40,-80]:[-24,-64]});r.geoObjects.add(s),r.controls.get("zoomControl").options.set({size:"small",position:{right:10,top:10}});const l=e.querySelector(".tgg-contacts__map-placeholder");l&&(l.style.display="none")})}(),function(){if("undefined"==typeof Swiper)return void console.warn("Swiper не подключен. Добавьте его в package.json если нужен.");[".tgg-slider-hero",".tgg-slider-gallery",".tgg-slider-tournaments"].forEach(e=>{const t=document.querySelector(e);t&&new Swiper(t,{slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}}})})}(),document.querySelector(".tgg-equipment-full__gallery-slider")&&t(),document.getElementById("langame-booking-btn")&&n(),console.log("✅ Tochka Gg theme initialized")});
//# sourceMappingURL=main.js.map
